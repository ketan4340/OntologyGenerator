# 数値と単位
IF (numeral value) {
  ?stc rdf:type jass:Sentence .
  ?stc jass:subject ?cls_S .
  ?cls_S jass:categoremMeans ?rsc_S .
  ?stc jass:predicate ?cls_P .
  ?cls_P jass:consistsOfCategorem ?prs .
#  ?prs jass:consistsOfDependent/rdf:rest/rdf:first/jass:name ?length .
#  FILTER regex(?length, "長$")
  ?prs jass:consistsOfHead ?head .
  ?head jass:consistsOfMorphemes/rdf:rest* (?valrsc ?unitrsc) .
  FILTER regex(?val, "[0-9０-９]+?")
  ?valrsc jass:name ?val .
  ?unitrsc jass:name ?unit .
} THEN {
  ?rsc_S sio:SIO_000216 _:bn .
#  _:bn rdf:type ?length .
  _:bn rdf:value ?val .
  _:bn sio:SIO_000221 ?unit .
};

# 総称 (owl:sameAs)
IF (equivalentClass) {
  ?stc rdf:type jass:Sentence .
  ?stc jass:subject/jass:categoremMeans ?rsc_S .
  ?stc jass:predicate ?Scls_P .
  ?Scls_P jass:consistsOfCategorem 	?prs .
  ?prs jass:consistsOfHead/jass:infinitive ?equiv .
  FILTER(?equiv="総称" || ?equiv="通称")
  ?prs jass:consistsOfDependent/rdf:rest* ?node . # 形態素の最後尾
  ?node rdf:rest rdf:nil ;
	rdf:first/jass:categoremMeans ?rsc_p .
}THEN{
  ?rsc_S owl:equivalentClass ?rsc_p .
};

# 概念階層 (rdfs:subClassOf)
IF (subClassOf) {
  ?stc a jass:Sentence ;
	jass:subject ?cls_S ;
	jass:predicate ?cls_P . 
  ?cls_S jass:categoremMeans ?rsc_S .
  ?cls_P jass:consistsOfCategorem ?wrd_P .
  ?wrd_P jass:mainPoS "名詞" ;
	jass:means ?rsc_P . 
  MINUS{?wrd_P jass:subPoS1 "接尾".}
  MINUS{?wrd_P jass:consistsOfMorphemes/rdf:rest*/rdf:first/jass:infinitive "総称" .}
  MINUS{?wrd_P jass:consistsOfMorphemes/rdf:rest*/rdf:first/jass:infinitive "通称" .}
}THEN{
  ?rsc_S rdfs:subClassOf ?rsc_P .
};